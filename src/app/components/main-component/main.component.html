<mat-card class="splashContent" style="width: auto;
margin-left: 0px;
margin-right: 0px;
justify-content: center;" >
<picture   height="200" class="hidden-on-mobile">
  <source srcset="../../assets/img/main.webp" type="image/webp">
  <source srcset="../../assets/img/main.jpg" type="image/jpeg">
  <img src="../../assets/img/main.jpg" alt="Photo of Genealogy" loading="lazy" height="200">
</picture>

  
  style="border-style: solid;  border-color: white;border-width: 1px;">
  <div style="font-size:50px;color:white;" class="hidden-on-desktop">Family Tree</div>
</mat-card>

<div class="main-div" style="display: flex; flex-direction: row;flex-wrap: wrap; flex-shrink: 0;justify-content: center; ">

<mat-card style="width:400px;margin: 5px;">
  <mat-card-header>
    <div mat-card-avatar class="example-header-image"></div>
    <mat-card-title><h1>Welcome to Family Tree</h1></mat-card-title>
  </mat-card-header>
  <mat-card-content>

    A simple website to view/edit family tree 
    and share some photos.
    <br>
    <br>
    <b>Features:</b>
    <ul >
      
      <li>Family Tree</li>
      <li>Photos</li>
      <li>Chat</li>
      <li>... And more</li>
    </ul>
  <br>
    Note: It's a first version of the site,<br>
    Improvements will come little by little.<br>
    Feel free to add content and raise any bugs.
  </mat-card-content>
</mat-card>

  <mat-card style="width: 400px;margin: 5px;">
    <mat-card-header>
      <mat-icon>people</mat-icon>
      <mat-card-title><h1>Search</h1></mat-card-title>
      <mat-card-subtitle>Find a person by name.</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>

        <mat-form-field>
          <mat-label>Filter</mat-label>
          <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Daniel">
        </mat-form-field>
        <!-- class="mat-elevation-z8"  -->
        <table style="display:block;"
        
  
        mat-table matSort [dataSource]="dataSource" matSortActive="FirstName" matSortDirection="asc">

          <ng-container matColumnDef="firstName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> FirstName </th>
            <td mat-cell *matCellDef="let element" > {{element.firstName}} </td>
          </ng-container>

          <ng-container matColumnDef="lastName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> LastName </th>
            <td mat-cell *matCellDef="let element"  [innerHTML]="element.lastName 
            + (element.maidenName == '' ? '':' (')
            + element.maidenName 
            + (element.maidenName == '' ? '':')')
            "></td>
          </ng-container>

          <ng-container matColumnDef="gender" style="display:none;">
            <th mat-header-cell *matHeaderCellDef mat-sort-header style="visibility:hidden;"> Gender </th>
            <td mat-cell *matCellDef="let element" style="visibility:hidden;"> {{element.gender}} </td>
          </ng-container> 

          <ng-container matColumnDef="year">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Year </th>
            <td mat-cell *matCellDef="let element"> {{element.yearOfBirth}} - {{element.yearOfDeath}}</td>
          </ng-container>

          <ng-container matColumnDef="link">
            <th mat-header-cell *matHeaderCellDef> Link </th>
            <td mat-cell *matCellDef="let element">
               <a mat-button [routerLink]="'person/'+element.profileId" [title]="getTitle(element)" aria-label="view" > view</a>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>


        </table>
        <mat-paginator [pageSizeOptions]="[5, 10, 25]" showFirstLastButtons></mat-paginator>
    </mat-card-content>
  </mat-card>

  <mat-card style="width: 400px;margin: 5px;">
    <mat-card-header>
      <mat-icon>camera_alt</mat-icon>
      <mat-card-title><h1>Random Photos</h1></mat-card-title>
    </mat-card-header>
     <mat-card-content >
        <img loading="lazy" alt="Random images" *ngFor="let image of images" [src]="image.url" style="margin:5px"/>
      </mat-card-content>
    </mat-card>

  <mat-card style="width: 400px;margin: 5px;">
    <mat-card-header>
      <mat-icon>calendar_today</mat-icon>
      <mat-card-title><h1>Events</h1></mat-card-title>
      <mat-card-subtitle>TODAY's events2</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>

      <!-- <mat-form-field>
        <mat-label>Date</mat-label>
        <input matInput [matDatepicker]="picker" [value]="date.value"> 
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker> 
      </mat-form-field> -->

      <div *ngIf="events?.birthday?.length>0" style="font-weight: bold;">Birthday:</div>
      <div *ngFor="let b of events?.birthday">
        {{b.firstName}} {{b.lastName}}
      </div>

      <div *ngIf="events?.deathday?.length>0" style="font-weight: bold;">Dead Anniversary:</div>
      <div *ngFor="let b of events?.deathday">
        {{b.firstName}} {{b.lastName}}
      </div>

      <div *ngIf="events?.marriage?.length>0" style="font-weight: bold;">Wedding Anniversary:</div>
      <div *ngFor="let b of events?.marriage">
        {{b.firstName}} {{b.lastName}}
      </div>

     

  

    </mat-card-content>

  </mat-card>

  <mat-card style="width: 400px;margin: 5px;">
    <mat-card-header>
      <mat-icon>assignment</mat-icon>
      <mat-card-title><h1>Recent Activities</h1></mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div *ngFor="let auditEntry of audit">
        {{auditEntry.timestamp | date : 'short'}} - <b>{{auditEntry.user}}</b> {{auditEntry.action}} "{{auditEntry.id}}"
      </div>
  </mat-card-content>

</mat-card>
</div>

<br>

<div style="color: grey;">
  Keywords:
ancestry, genetics, lineage, descent, generation, heredity, history, line, parentage
blood line, progeniture, clan, folk, group, house, household, people, tribe, ancestors, 
birth, children, descendants, descent, dynasty, genealogy, generations, in-laws, network,
pedigree, progenitors, progeny, relations, relationship, relatives, siblings,
</div>
<br>